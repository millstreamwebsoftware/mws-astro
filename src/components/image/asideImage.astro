---
import Image from "@shared/Image.astro";

const image = Astro.props.src;

const { width = 256, height = 256, class: classes, title } = Astro.props;
---

<figure class:list={[classes, "aside"]}>
    <Image
        {image}
        {width}
        {height}
        {...Astro.props}
        fit="contain"
        quality="mid"
    />
    {title && <figcaption>{title}</figcaption>}
</figure>

<style>
    figcaption {
        font-size: var(--text-size-medium);
        margin-top: 0.5em;
    }

    figure {
        margin: 3rem 0;
    }

    figure.align-left {
        margin: 0 2rem 2rem 0;
        float: left;
    }
    figure.align-right {
        margin: 0 0 2rem 2rem;
        float: right;
    }
    figure.align-center {
        position: relative;
        float: none;
        margin: 3rem 0;
    }
</style>

<style is:global>
    figure.aside img {
        max-height: 40rem;
    }
</style>
